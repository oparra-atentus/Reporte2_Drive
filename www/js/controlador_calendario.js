function getObjetive(){return $.ajax({async:!1,url:"../call_ajax.php",data:{nameFunction:"getObjetive"},type:"POST",success:function(e){saveData(e)},error:function(e){}})}function saveData(e){OBJETIVES=JSON.parse(e)}function showEvent(e){var o=e.split(","),t=!1;return $.each(OBJETIVES,function(e,n){"-1"!=jQuery.inArray(n.objetivo_id,o)&&(t=!0)}),t}var CALENDAR=CALENDAR||{};section=$("#seccion_mantenencion").data("seccion"),calendarSection=$("#seccion_mantenencion").data("calendario"),historySection=$("#seccion_mantenencion").data("historial"),addSection=$("#seccion_mantenencion").data("agregar"),CALENDAR={randomRgba:function(){return red=Math.floor(256*Math.random()),green=Math.floor(256*Math.random()),blue=Math.floor(256*Math.random()),alpha=.7,rgba="rgba("+red+","+green+","+blue+","+alpha+")",rgba},createTooltip:function(e,o){tooltip='<div class="tooltiptopicevent" >Id: : '+e.id+"</br>Nombre: : "+e.value+"</br>Titulo: : "+e.title+"</br>Inicio: : "+e._start._i+"</br>Termino: : "+e._end._i+"</br></div>",$("body").append(tooltip),colour=$(o).css("backgroundColor"),"rgba(0, 0, 0, 0)"==colour&&(colour="#FF9124"),$(".tooltiptopicevent").css("background",colour),$(o).mouseover(function(e){$(o).css("z-index",1e4),$(".tooltiptopicevent").fadeIn("500"),$(".tooltiptopicevent").fadeTo("10",1.9)}).mousemove(function(e){$(".tooltiptopicevent").css("top",e.pageY+10),$(".tooltiptopicevent").css("left",e.pageX+20)})},removeTooltip:function(e){$(e).css("z-index",8),$(".tooltiptopicevent").remove()},createCalendar:function(e){$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},defaultDate:moment().format("YYYY-MM-DD"),weekNumberCalculation:"ISO",navLinks:!0,editable:!1,eventLimit:!0,events:e,eventTextColor:"#616265",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],lang:"es",defaultView:"agendaWeek",eventClick:function(e,o,t){$("#usuario_cliente_id").val()==e.userId?mostrarSubmenu(section,historySection,1,e.id):alert("Solo el usuario que ha creado el evento puede modificarlo.")},eventMouseover:function(e,o,t){element=this,CALENDAR.createTooltip(e,element)},eventMouseout:function(e,o,t){element=this,CALENDAR.removeTooltip(element)},eventRender:function(e,o){o.find(".fc-event-title").append("<br/>"+e.value)}})}};