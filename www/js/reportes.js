function scrollBotonAdelante(e){$("#monitoreo_"+e).animate({scrollLeft:"+=200"},500,function(){$("#monitoreo_"+e).scrollLeft()+$("#monitoreo_"+e).width()==$("#monitoreo_tabla_"+e).width()&&(document.getElementById("btn_adelante_"+e).style.display="none"),"none"==document.getElementById("btn_atras_"+e).style.display&&(document.getElementById("btn_atras_"+e).style.display="inline")})}function scrollBotonAtras(e){$("#monitoreo_"+e).animate({scrollLeft:"-=200"},500,function(){0==$("#monitoreo_"+e).scrollLeft()&&(document.getElementById("btn_atras_"+e).style.display="none"),"none"==document.getElementById("btn_adelante_"+e).style.display&&(document.getElementById("btn_adelante_"+e).style.display="inline")})}function fnCreateSelect(e){var t,i='<select style="width:100%;"><option value="">Seleccionar Todo</option>',o=e.length;for(t=0;o>t;t++)i+='<option value="'+e[t]+'">'+e[t]+"</option>";return i+"</select>"}function tiempoRecarga(e,t){return null==e||!e.match(/^[0-9]+$/)||e>86400||10>e?null==arr_tiempos[t]?864e5:1e3*arr_tiempos[t]:(arr_tiempos[t]=e,1e3*e)}function mostrarDetallePlus(e,t,i){dojo.attr("subcontenedor_"+e+"_"+t,{style:"widht: auto;height: auto;overflow-y: hidden;overflow-x: hidden"}),"none"==document.getElementById("pasos_"+e+"_"+t+"_"+i).style.display?(document.getElementById("pasos_"+e+"_"+t+"_"+i).style.display="inline",document.getElementById("imagen_"+e+"_"+t+"_"+i).className="spriteButton spriteButton-cerrar_calendario"):(document.getElementById("pasos_"+e+"_"+t+"_"+i).style.display="none",document.getElementById("imagen_"+e+"_"+t+"_"+i).className="spriteButton spriteButton-abrir_calendario")}function mostrarGraficoPlus(e,t,i,o,a){"true"==a?(document.getElementById("download").value="true",cargarItem("elemplus_"+t+"_"+i+"_"+o,e,0,["monitor_id",t,"paso_id",i,"fecha_monitoreo",o])):document.getElementById("elemplus_"+t+"_"+i+"_"+o)&&("inline"==document.getElementById("elemplus_"+t+"_"+i+"_"+o).style.display?(document.getElementById("download").value="false",dijit.byId("elemplus_"+t+"_"+i+"_"+o).attr("style","display:none"),document.getElementById("flecha_"+t+"_"+i+"_"+o).className="spriteButton spriteButton-abrir_calendario"):(cargarItem("elemplus_"+t+"_"+i+"_"+o,e,0,["monitor_id",t,"paso_id",i,"fecha_monitoreo",o]),dijit.byId("elemplus_"+t+"_"+i+"_"+o).attr("style","display:inline"),document.getElementById("flecha_"+t+"_"+i+"_"+o).className="spriteButton spriteButton-cerrar_calendario"))}function cambiarTamanoScreenshot(){document.getElementById("screenshot_imagen").width<720||("spriteButton spriteButton-lupa-menos"==document.getElementById("aumentar_screenshot").className?(document.getElementById("screenshot_imagen").style.width="720",document.getElementById("aumentar_screenshot").className="spriteButton spriteButton-lupa-mas"):(document.getElementById("screenshot_imagen").style.width="auto",document.getElementById("aumentar_screenshot").className="spriteButton spriteButton-lupa-menos"))}function guardarOrden(e){var t=document.form_principal.sitio_id.value,i=document.form_principal.menu_id.value,o=document.form_principal.objeto_id.value;dojo.xhrPost({url:"index.php",postData:"sitio_id="+t+"&menu_id="+i+"&objeto_id="+o+"&ejecutar_accion=1&accion=guardar_orden_objetivo"+e,load:function(e,t){return e}})}function mostrarSubmenu(e,t,i,o){if("undefined"==typeof o&&(o=0),1==i)abrirEnlace(e,t,0,o);else{var a;"none"==document.getElementById("submenu_"+t).style.display?(document.getElementById("flecha_"+t).className="flechamenuizp spriteButton spriteButton-flecha_abajo",a=dojo.fx.wipeIn({node:"submenu_"+t,duration:1e3})):(document.getElementById("flecha_"+t).className="flechamenuizp spriteButton spriteButton-flecha_derecha",a=dojo.fx.wipeOut({node:"submenu_"+t,duration:1e3})),a.play()}}function abrirEnlace(e,t,i,o){post_to_url("index.php",{sitio_id:e,menu_id:t,objeto_id:i,event:o})}function abrirAccion(e,t){if(document.form_principal.ejecutar_accion.value=e,document.form_principal.accion.value=t,3==arguments.length)for(parametros=arguments[2],i=0;i<parametros.length;i+=2)document.getElementsByName(parametros[i])[0].value=parametros[i+1];document.form_principal.submit()}function abrirAccionDetalle(e,t,i,o,a){document.form_principal.ejecutar_accion.value=t,document.form_principal.accion.value=i;var n="index.php?sitio_id="+document.form_principal.sitio_id.value+"&menu_id="+document.form_principal.sitio_id.value+"&objetivo_id="+a;dijit.byId(e).attr("content",'<table width="100%" align="center"><tr><td style="background-color:#f6f6f6" width="35%">&nbsp;</td><td width="30" align="center" style="background-color:#f6f6f6"><img src="img/cargando.gif"></td><td class="textgris12" style="background-color:#f6f6f6">Por favor espere.<br>El reporte se esta generando.</td><td style="background-color:#f6f6f6">&nbsp;</td></tr></table>'),o[1]&&(n=n+"&notificacion_id="+o[1]),n=n+"&accion="+i,dojo.xhrPost({url:n,load:function(t){return t.indexOf("password")>0&&t.indexOf("username")>0?void logout():void dijit.byId(e).attr("content",t)}})}function abrirFormulario(e,t,o){var a=document.form_principal.sitio_id.value,n=document.form_principal.menu_id.value,r=document.form_principal.objeto_id.value,d="";if(4==arguments.length)for(parametros=arguments[3],i=0;i<parametros.length;i+=2)d=d+"&"+parametros[i]+"="+parametros[i+1];dojo.xhrPost({url:"index.php?sitio_id="+a+"&menu_id="+n+"&objeto_id="+r+"&ejecutar_accion="+t+"&accion="+o+d,load:function(t){return t.indexOf("password")>0&&t.indexOf("username")>0?void logout():(dijit.byId("dialog_"+e).attr("content",t),void dijit.byId("dialog_"+e).show())}})}function abrirDetalles(e,t){document.getElementById(e).innerHTML='<table align="center"><tr><td width="30" align="center"><img src="img/cargando.gif"></td><td class="textgris12">Por favor espere.<br>El reporte se esta generando.</td></tr></table>';var o=document.form_principal.sitio_id.value,a=document.form_principal.menu_id.value,n=document.form_principal.objeto_id.value,r="";if(3==arguments.length)for(parametros=arguments[2],i=0;i<parametros.length;i+=2)r=r+"&"+parametros[i]+"="+parametros[i+1];dojo.xhrPost({url:"index.php?sitio_id="+o+"&menu_id="+a+"&objeto_id="+n+"&ejecutar_accion=0&accion="+t+r,load:function(t){dijit.byId(e).attr("content",t)}})}function cargaItemFiltroElementosPlus(e,t,o,a,n){var r=document.form_principal.sitio_id.value,d=document.form_principal.menu_id.value,l=document.form_principal.objeto_id.value,c="",s="",m=n[0],u=n[1],_=n[2],p=n[3],g=n[4];if(null!=a)for(i=0;i<a.length;i+=2)c=c+"&"+a[i]+"="+a[i+1],s=s+"'"+a[i]+"','"+a[i+1]+"',";var f=(new Date).getTime();dojo.xhrPost({url:"index.php?sitio_id="+r+"&menu_id="+d+"&objeto_id="+l+"&ejecutar_accion=1&accion=buscar_item&item_id="+t+"&item_tipo=html&tiene_flash="+tiene_flash+"&tiene_svg="+tiene_svg+"&hora_inicio="+m+"&minuto_inicio="+u+"&hora_termino="+_+"&minuto_termino="+p+"&nodo_filtro="+g+c,load:function(i){if("LOGOUT"===i.trim())return void logout();var n=i.split(textoseparacion),r=n[0];if(0==r)return void($("#boton_adelante_"+a[1]).addClass("botonadelante_disabled")&&alert("No existen más datos para mostrar."));if("RELOAD"!==r.trim()){var d=new RegExp(">[ 	\r\n\f]*<","g");r=r.replace(d,"><"),dijit.byId(e).attr("content",r)}var l=tiempoRecarga(n[1],t);1==o&&setTimeout("cargarItem('"+e+"', '"+t+"', '1', ["+s+"])",l);var c=$("#tabla_item_"+t),m=c.data("ga-tracking-id"),u=c.data("usuario-id"),_=c.data("objetivo-id"),p=c.data("item-url"),g=(new Date).getTime(),h=g-f,v=window._gaq||[];v.push(["_setAccount",m]),v.push(["_setCustomVar",1,"uid",u,3]),_?v.push(["_setCustomVar",2,"oid",_,3]):v.push(["_setCustomVar",2,"oid","<not set>",3]),v.push(["_trackTiming",p,"loadTime",h,"cargarItem",100])}})}function cargaItemFiltroScreenshot(e,t,o,a,n){var r=document.form_principal.sitio_id.value,d=document.form_principal.menu_id.value,l=document.form_principal.objeto_id.value,c="",s="",m=n[0],u=n[1],_=n[2],p=n[3],g=n[4];if(null!=a)for(i=0;i<a.length;i+=2)c=c+"&"+a[i]+"="+a[i+1],s=s+"'"+a[i]+"','"+a[i+1]+"',";var f=(new Date).getTime();dojo.xhrPost({url:"index.php?sitio_id="+r+"&menu_id="+d+"&objeto_id="+l+"&ejecutar_accion=1&accion=buscar_item&item_id="+t+"&item_tipo=html&tiene_flash="+tiene_flash+"&tiene_svg="+tiene_svg+"&hora_inicio="+m+"&minuto_inicio="+u+"&hora_termino="+_+"&minuto_termino="+p+"&nodo_filtro="+g+c,load:function(i){if("LOGOUT"===i.trim())return void logout();var n=i.split(textoseparacion),r=n[0];if(0==r)return void($("#boton_adelante_"+a[1]).addClass("botonadelante_disabled")&&alert("No existen más datos para mostrar."));if("RELOAD"!==r.trim()){var d=new RegExp(">[ 	\r\n\f]*<","g");r=r.replace(d,"><"),dijit.byId(e).attr("content",r)}var l=tiempoRecarga(n[1],t);1==o&&setTimeout("cargarItem('"+e+"', '"+t+"', '1', ["+s+"])",l);var c=$("#tabla_item_"+t),m=c.data("ga-tracking-id"),u=c.data("usuario-id"),_=c.data("objetivo-id"),p=c.data("item-url"),g=(new Date).getTime(),h=g-f,v=window._gaq||[];v.push(["_setAccount",m]),v.push(["_setCustomVar",1,"uid",u,3]),_?v.push(["_setCustomVar",2,"oid",_,3]):v.push(["_setCustomVar",2,"oid","<not set>",3]),v.push(["_trackTiming",p,"loadTime",h,"cargarItem",100])}})}function cargarItem(e,t,o,a){var n=document.form_principal.sitio_id.value,r=document.form_principal.menu_id.value,d=document.form_principal.objeto_id.value,l="",c="";if(null!=a)for(i=0;i<a.length;i+=2)l=l+"&"+a[i]+"="+a[i+1],c=c+"'"+a[i]+"','"+a[i+1]+"',";var s=(new Date).getTime();dojo.xhrPost({url:"index.php?sitio_id="+n+"&menu_id="+r+"&objeto_id="+d+"&ejecutar_accion=1&accion=buscar_item&item_id="+t+"&item_tipo=html&tiene_flash="+tiene_flash+"&tiene_svg="+tiene_svg+l,load:function(i){if("LOGOUT"===i.trim())return void logout();var n=i.split(textoseparacion),r=n[0];if(0==r)return void($("#boton_adelante_"+a[1]).addClass("botonadelante_disabled")&&alert("No existen más datos para mostrar."));if("RELOAD"!==r.trim()){var d=new RegExp(">[ 	\r\n\f]*<","g");r=r.replace(d,"><"),dijit.byId(e).attr("content",r)}var l=tiempoRecarga(n[1],t);1==o&&setTimeout("cargarItem('"+e+"', '"+t+"', '1', ["+c+"])",l);var m=$("#tabla_item_"+t),u=m.data("ga-tracking-id"),_=m.data("usuario-id"),p=m.data("objetivo-id"),g=m.data("item-url"),f=(new Date).getTime(),h=f-s,v=window._gaq||[];v.push(["_setAccount",u]),v.push(["_setCustomVar",1,"uid",_,3]),p?v.push(["_setCustomVar",2,"oid",p,3]):v.push(["_setCustomVar",2,"oid","<not set>",3]),v.push(["_trackTiming",g,"loadTime",h,"cargarItem",100])}})}function cargarSubItem(e,t,o,a,n){try{$(".ui-dialog-content").dialog("close")}catch(r){}var d=document.form_principal.sitio_id.value,l=document.form_principal.menu_id.value,c=document.form_principal.objeto_id.value,s=document.form_principal.objeto_id.value,m="",u="";if(null!=n)for(i=0;i<n.length;i+=2)"objetivo_id"==n[i]?(c=n[i+1],document.form_principal.objeto_id.value=n[i+1]):(m=m+"&"+n[i]+"="+n[i+1],u=u+"'"+n[i]+"','"+n[i+1]+"',");dojo.xhrPost({url:"index.php?sitio_id="+d+"&menu_id="+l+"&objeto_id="+c+"&ejecutar_accion=1&accion=buscar_item&item_id="+a+"&item_tipo=html&tiene_flash="+tiene_flash+"&tiene_svg="+tiene_svg+m,load:function(i){if("LOGOUT"===i.trim())return void logout();var a=i.split(textoseparacion),n=a[0],r=new RegExp(">[ 	\r\n\f]*<","g");n=n.replace(r,"><");var d='<div id="'+t+'" dojoType="dojox.layout.ContentPane">'+n+'</div><input type="button" value="Volver" onclick="document.form_principal.objeto_id.value=\''+s+"'; cargarItem('"+e+"', '"+o+"', '0', ["+u+']);"><br>&nbsp;';dijit.byId(e).attr("content",d)}})}function descargarCSV(e){var t=document.form_principal.sitio_id.value,o=document.form_principal.menu_id.value,a=document.form_principal.objeto_id.value,n=document.getElementById("datos_codificacion_"+e).options[document.getElementById("datos_codificacion_"+e).selectedIndex].value,r=0;for(i=0;i<document.getElementsByName("datos_separador_"+e).length;i++)document.getElementsByName("datos_separador_"+e)[i].checked&&(r=document.getElementsByName("datos_separador_"+e)[i].value);var d=0;for(i=0;i<document.getElementsByName("datos_decimal_"+e).length;i++)document.getElementsByName("datos_decimal_"+e)[i].checked&&(d=document.getElementsByName("datos_decimal_"+e)[i].value);var l=0;document.getElementById("datos_uptime_"+e)&&document.getElementById("datos_uptime_"+e).checked&&(l=1);var c=0;document.getElementById("datos_downtime_parcial_"+e)&&document.getElementById("datos_downtime_parcial_"+e).checked&&(c=1);var s=0;document.getElementById("datos_downtime_global_"+e)&&document.getElementById("datos_downtime_global_"+e).checked&&(s=1);var m=0;document.getElementById("datos_nomonitoreo_"+e)&&document.getElementById("datos_nomonitoreo_"+e).checked&&(m=1);var u=0;return document.getElementById("datos_evento_cliente_"+e)&&document.getElementById("datos_evento_cliente_"+e).checked&&(u=1),document.getElementById("datos_uptime_"+e)&&0==l&&0==c&&0==s&&0==m&&0==u?(alert("Debe seleccionar por lo menos un tipo de disponibilidad a mostrar."),!1):document.getElementById("datos_uptime_"+e)&&1==l&&1==c&&1==s&&1==m&&1==u?(alert("No puede seleccionar todos los tipos de disponibilidad al mismo tiempo."),!1):void window.open("index.php?sitio_id="+t+"&menu_id="+o+"&objeto_id="+a+"&ejecutar_accion=1&accion=buscar_item&item_id="+e+"&item_tipo=csv&datos_codificacion="+n+"&datos_separador="+r+"&datos_decimal="+d+"&datos_uptime="+l+"&datos_downtime_parcial="+c+"&datos_downtime_global="+s+"&datos_nomonitoreo="+m+"&datos_eventoespecial="+u,"targetWindow")}function getElementsByName_iefix(e,t){var o=document.getElementsByTagName(e),a=new Array;for(i=0,iarr=0;i<o.length;i++)att=o[i].getAttribute("name"),att==t&&(a[iarr]=o[i],iarr++);return a}function abrirPopup(e){var t=document.form_principal.sitio_id.value,o=document.form_principal.menu_id.value,a=document.form_principal.objeto_id.value,n="";for(i=0;i<e.length;i+=2)n=n+"&"+e[i]+"="+e[i+1];var r="toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=790, height=470 ";window.open("index.php?sitio_id="+t+"&menu_id="+o+"&objeto_id="+a+"&popup=1&tiene_flash="+tiene_flash+"&tiene_svg="+tiene_svg+n,"",r)}function abrirPopupDefiniciones(){var e="toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=790, height=580 ";window.open("definiciones.html","",e)}function cerrarPopupItem(){window.close()}function setFuenteImagen(e,t){return e=e.replace(/\+/gi,"CARACTERSUMA"),dojo.xhrPost({url:"imagen_grafico.php",sync:!0,postData:"src="+e+"&nombre="+t,load:function(e){}}),!0}function trim(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")}function verRegistro(e,t,i){mensaje2=htmlEncode(e,!1),contenido='<table id="tabla_contenido_registro" width="380" class="listado_mini"><tr><th width="30%">Fecha</th><th width="70%"> Nombre Registro</th></tr><tr><td id="tabla_contenido_registro_fecha">'+t+'</td><td id="tabla_contenido_registro_registro">'+i+'</td></tr><tr><td colspan="2" ><div style="width: 360px; height:166px" id="conte_registro" style=""><textarea rows="9" style="width:100%; height:100%" id="textRegistro"></textarea></div></td></tr></table>',document.getElementById("dialog_contenido_registro")?(document.getElementById("tabla_contenido_registro_fecha").innerHTML=t,document.getElementById("tabla_contenido_registro_registro").innerHTML=i,dijit.byId("dialog_contenido_registro").attr("title",t+"     Valor Registro   "+i)):(dojo.require("dijit.Dialog"),myDialog=new dijit.Dialog({title:"Detalle Registro",content:contenido,id:"dialog_contenido_registro",style:"width: 380px; height:248"})),document.getElementById("textRegistro").innerHTML=mensaje2,dijit.byId("dialog_contenido_registro").show()}function post_to_url(e,t,i){i=i||"post";var o=document.createElement("form");o.setAttribute("method",i),o.setAttribute("action",e);for(var a in t)if(t.hasOwnProperty(a)){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",a),n.setAttribute("value",t[a]),o.appendChild(n)}document.body.appendChild(o),o.submit()}function iniciarPaginacion(e){1==$("#flechaPL").length&&(elementos_cantidad=e>0?e:$("[name~='elemento_pagina']").length,pagina_ultima=Math.floor((elementos_cantidad-1)/6),$("#elementos_total").html(elementos_cantidad),$("#elementos_scroll").animate({scrollLeft:"+="+516*pagina_actual},0),actualizarTextoPaginacion(),actualizarFlechasPaginacion())}function actualizarTextoPaginacion(){pagina_actual==pagina_ultima?$("#elementos_mostrados").html(6*pagina_actual+1+"-"+elementos_cantidad):$("#elementos_mostrados").html(6*pagina_actual+1+"-"+(6*pagina_actual+6))}function actualizarFlechasPaginacion(){$("#flechaPL").attr("class","spriteButton spriteButton-arrow2_left"),$("#flechaPR").attr("class","spriteButton spriteButton-arrow2_right"),0==pagina_actual&&$("#flechaPL").attr("class","spriteButton spriteButton-arrow2_left_t"),pagina_actual==pagina_ultima&&$("#flechaPR").attr("class","spriteButton spriteButton-arrow2_right_t")}function mostrarDetalleEvento(e){elem=$("#seccion_mantenencion"),seccion=elem.data("seccion"),historial=elem.data("historial"),mostrarSubmenu(seccion,historial,1,parseInt(e))}var textoseparacion="SEPARACIONCELDA",regexp_date=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/,regexp_time=/^(2[0-3]|[0-1][0-9]):[0-5][0-9]$/;"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e){e.fn.dataTableExt.oApi.fnGetColumnData=function(e,t,i,o,a){if("undefined"==typeof t)return new Array;"undefined"==typeof i&&(i=!0),"undefined"==typeof o&&(o=!0),"undefined"==typeof a&&(a=!0);var n,r=new Array;n=1==o?e.aiDisplay:e.aiDisplayMaster;for(var d=0,l=n.length;l>d;d++){iRow=n[d];var c=this.fnGetData(iRow),s=c[t],m=new RegExp('<div style="display: none">(.+)</div>',"i"),u=m.exec(s);null!=u&&2==u.length&&(1!=a||0!=u[1].length)&&(1==i&&jQuery.inArray(u[1],r)>-1||r.push(u[1]))}return r}}(jQuery);var arr_tiempos=new Array,windowHeight=0;windowHeight=$(window).height(),$(".boton_elemento").live("click",function(){return item_id=$(this).data("item_id"),elemento_id=$(this).data("elemento_id"),elemento_nombre=$(this).data("elemento_nombre"),null==item_id?!1:void cargarItem("contenedor_"+item_id,item_id,1,[elemento_nombre,elemento_id])});var pagina_actual=0,pagina_ultima=0,elementos_cantidad=0;$("#bttPR").live("click",function(){pagina_ultima>pagina_actual&&(pagina_actual+=1,$("#elementos_scroll").animate({scrollLeft:"+=516"},200),actualizarTextoPaginacion(),actualizarFlechasPaginacion())}),$("#bttPL").live("click",function(){pagina_actual>0&&(pagina_actual-=1,$("#elementos_scroll").animate({scrollLeft:"-=516"},200),actualizarTextoPaginacion(),actualizarFlechasPaginacion())});