!function(e){"use strict";var i=function(e,i){i=i||{},this.init(e,i)};i.prototype={init:function(i,n){this.$el=e(i),this.$informesDisponibles=e('<div class="informes-disponibles-en-formulario"></div>'),this.cacheDeSeleccion={},this.$el.append(this.$informesDisponibles)},el:function(){return this.$el},seleccionarInforme:function(e,i,n){var o=e.data("fechaInicio"),s=e.data("fechaTermino"),r=e.data("reporteInformeSubtipoId");e.siblings().removeClass("seleccionado"),e.addClass("seleccionado"),this.cacheDeSeleccion[i+"-"+n]=[o,s],this.$el.trigger("listaDeInformesDisponibles:seleccionaInforme",{fechaInicio:o,fechaTermino:s,reporteInformeSubtipoId:r})},cargar:function(i,n,o){var s=this;this.$informesDisponibles.find("li.informe").css("opacity","0.5"),this.$informesDisponibles.find(".leyenda .indicador-carga").show(),e.ajax({url:"informes_disponibles.php",type:"POST",data:{objetivo_id:i,ano:n,mes:o},dataType:"html",success:function(i){s.$informesDisponibles.empty().append(i),s.$informesDisponibles.find(".informe").on("click",function(){var i=e(this);s.seleccionarInforme(i,n,o)});var r=n+"-"+o;if(s.cacheDeSeleccion[r]){var c=s.$informesDisponibles.find(".informe[data-fecha-inicio='"+s.cacheDeSeleccion[r][0]+"'][data-fecha-termino='"+s.cacheDeSeleccion[r][1]+"']");c.size()>0?s.seleccionarInforme(c.eq(0),n,o):s.cacheDeSeleccion[r]=null}else{var a=s.$informesDisponibles.find(".informe:last");a.size()>0&&s.seleccionarInforme(a.eq(0),n,o)}},error:function(){s.$informesDisponibles.find("li.flash").html("Ocurri√≥ un error"),s.$informesDisponibles.find("li.informe").remove()},complete:function(){s.$informesDisponibles.find(".leyenda .indicador-carga").hide()}})}},window.Reporte2=window.Reporte2||{},window.Reporte2.ListaDeInformesDisponibles=i}(window.jQuery);